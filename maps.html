<!DOCTYPE html>
<html>
<head>
  <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="bootstrap.min.css" rel="stylesheet"/>
  <script src="bootstrap.bundle.min.js" > </script>
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }



    .sidebar {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 1;
      top: 0;
      left: 0;
      background-color: #ff6699;
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }

    .sidebar .closebtn {
      position: absolute;
      top: 0;
      right: 25px;
      font-size: 36px;
      margin-left: 50px;
    }

    .openbtn {
      font-size: 20px;
      cursor: pointer;
      background-color: #ff6699;
      color: white;
      padding: 10px 15px;
      border: none;
    }

    .openbtn:hover {
      background-color: #444;
    }

    #main {
      transition: margin-left .5s;
      padding: 16px;
    }

    /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
    @media screen and (max-height: 450px) {
      .sidebar {padding-top: 15px;}
      .sidebar a {font-size: 18px;}
    }    
    
  </style>
  
  <!-- Custom styles for this template -->
  <link href="main.css" rel="stylesheet">

</head>
<script>

if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
// JavaScript program to print all
// paths from a source to
// destination.

let v;

let adjList;

var resultpathList = {};
var pathcnt = 0;

var tuimage = new Array(25);

tuimage[0] = { name:"b1_01.jpg", thumbnail:"b1_01s.jpg", tag:"ตึก, ตึก1"};
tuimage[1] = { name:"pr_01.jpg", thumbnail:"pr_01s.jpg", tag:"pr, PR, Pr, ประชาสัมพันธ์"};
tuimage[2] = { name:"b3_01.jpg", thumbnail:"b3_01s.jpg", tag:"ตึก, ตึก3"};
tuimage[3] = { name:"b2_01.jpg", thumbnail:"b2_01s.jpg", tag:"ตึก, ตึก2"};
tuimage[4] = { name:"hf_01.jpg", thumbnail:"hf_01s.jpg", tag:"hall, ห้องเกียรติยศ"};
tuimage[5] = { name:"b80_01.jpg", thumbnail:"b80_01s.jpg", tag:"ตึก, ตึก80"};
tuimage[6] = { name:"ba_01.jpg", thumbnail:"ba_01s.jpg", tag:"ตึก, ตึกศิลปะ"};
tuimage[7] = { name:"dr_01.jpg", thumbnail:"dr_01s.jpg", tag:"ประตู, หน้ารร, ประตูพญาไท"};
tuimage[8] = { name:"ya_01.jpg", thumbnail:"ya_01s.jpg", tag:"ลาน, atm, ATM"};
tuimage[9] = { name:"yv_01.jpg", thumbnail:"yv_01s.jpg", tag:"ลาน, วอลเลย์บอล, บอล"};
tuimage[10] = { name:"hf_02.jpg", thumbnail:"hf_02s.jpg", tag:"hall, หอประชุม, หอประชุมใหญ่, โรงใหญ่"};
tuimage[11] = { name:"ct_01.jpg", thumbnail:"ct_01s.jpg", tag:"canteen, โรงอาหาร, ตึก80"};
tuimage[12] = { name:"s_rama5.jpg", thumbnail:"s_rama5s.jpg", tag:"ร.5, ศาลร.5"};
tuimage[13] = { name:"hf_03.jpg", thumbnail:"hf_03s.jpg", tag:"ศาลา, ศาลาดนตรีไทย, ดนตรี"};
tuimage[14] = { name:"hf_04.jpg", thumbnail:"hf_04s.jpg", tag:"ศาลา, ศาลาพระเกี้ยวแก้ว, พระเกี้ยว"};
tuimage[15] = { name:"tl_01.jpg", thumbnail:"tl_01s.jpg", tag:"ห้องน้ำ, ห้องน้ำตึกศิลปะ, ตึกศิลปะ"};
tuimage[16] = { name:"tl_02.jpg", thumbnail:"tl_02s.jpg", tag:"ห้องน้ำ, ห้องน้ำโรงใหญ่, โรงใหญ่"};
tuimage[17] = {name:"b3_01.jpg", thumbnail:"b3_01s.jpg", tag:"ตึก, ตึก3, 3"};
tuimage[18] = {name:"b50_01.jpg", thumbnail:"b50_01s.jpg", tag:"ตึก, ตึก50, 50ปี"};
tuimage[19] = {name:"b55_01.jpg", thumbnail:"b55_01s.jpg", tag:"ตึก, ตึก55, 55ปี"};
tuimage[20] = {name:"b60_01.jpg", thumbnail:"b60_01s.jpg", tag:"ตึก, ตึก60, 60พรรษา, 60ปี"};
tuimage[21] = {name:"b72_01.jpg", thumbnail:"b72_01s.jpg", tag:"ตึก, ตึก72, 72ปี"};
tuimage[22] = {name:"b80_01.jpg", thumbnail:"b80_01s.jpg", tag:"ตึก, ตึก80"};
tuimage[23] = {name:"b81_01.jpg", thumbnail:"b80_01s.jpg", tag:"ตึก, ตึก81"};
tuimage[24] = {name:"b8_01.jpg", thumbnail:"b8_01s.jpg", tag:"ตึก, ตึก8"};
tuimage[25] = {name:"b9_01.jpg", thumbnail:"b9_01s.jpg", tag:"ตึก, ตึก9"};
tuimage[26] = {name:"bc_01.jpg", thumbnail:"bc_01s.jpg", tag:"สนาม, สนามบาส, สนามบาสเกตบอล"};
tuimage[27] = {name:"br_01.jpg", thumbnail:"br_01s.jpg", tag:"ตึก, ตึกหรั่ง, ตึกคุณหญิงหรั่ง"};
tuimage[28] = {name:"ct50_01.jpg", thumbnail:"ct50_01s.jpg", tag:"โรง, โรง50, โรงอาหาร50, โรงอาหารตึก50, โรงอาหารตึก50ปี"};
tuimage[29] = {name:"ctd_01.jpg", thumbnail:"ctd_01s.jpg", tag:"โดมทอง, โรงอาหารโดมทอง"};
tuimage[30] = {name:"cupsaa_01.jpg", thumbnail:"cupsaa_01s.jpg", tag:""};
tuimage[31] = {name:"da_01.jpg", thumbnail:"da_01s.jpg", tag:""};
tuimage[32] = {name:"db_01.jpg", thumbnail:"db_01s.jpg", tag:""};
tuimage[33] = {name:"fa_01.jpg", thumbnail:"fa_01s.jpg", tag:""};
tuimage[34] = {name:"fa_02.jpg", thumbnail:"fa_02s.jpg", tag:""};
tuimage[35] = {name:"ff_01.jpg", thumbnail:"ff_01s.jpg", tag:""};
tuimage[36] = {name:"gh_01.jpg", thumbnail:"gh_01s.jpg", tag:""};
tuimage[37] = {name:"gym_01.jpg", thumbnail:"gym_01s.jpg", tag:""};
tuimage[38] = {name:"kb_01.jpg", thumbnail:"kb_01s.jpg", tag:""};
tuimage[39] = {name:"l_01.jpg", thumbnail:"l_01s.jpg", tag:""};
tuimage[40] = {name:"nr_01.jpg", thumbnail:"nr_01s.jpg", tag:""};
tuimage[41] = {name:"sb_01.jpg", thumbnail:".jpg", tag:""};
tuimage[42] = {name:"sy_01.jpg", thumbnail:"sy_01s.jpg", tag:""};
tuimage[43] = {name:"tc_01.jpg", thumbnail:"tc_01s.jpg", tag:""};
tuimage[44] = {name:"tl_03.jpg", thumbnail:"tl_03s.jpg", tag:""};
tuimage[45] = {name:"tl_04.jpg", thumbnail:"tl_04s.jpg", tag:""};
tuimage[46] = {name:"tc_05.jpg", thumbnail:"tc_05s.jpg", tag:""};
tuimage[47] = {name:"tl_06.jpg", thumbnail:"tl_06s.jpg", tag:""};
tuimage[48] = {name:"tl_07.jpg", thumbnail:"tl_07s.jpg", tag:""};
tuimage[49] = {name:"tl_08.jpg", thumbnail:"tl_08s.jpg", tag:""};
tuimage[50] = {name:"tl_09.jpg", thumbnail:"tl_09s.jpg", tag:""};
tuimage[51] = {name:"y70_01.jpg", thumbnail:"y70_01s.jpg", tag:""};
tuimage[52] = {name:"yb_01.jpg", thumbnail:"yb_01s.jpg", tag:""};
tuimage[53] = {name:"yt_01.jpg", thumbnail:"yt_01s.jpg", tag:""};
  
  
// var location = new Array(84);

location[0] = { "name":"ทางเลี้ยวเข้าสนตอ", "tag":"", "x":1191, "y":92}
location[1] = { "name":"ห้องพยาบาลพุทธรักษา", "tag":"ห้องพยาบาล", "x":1271, "y":92}
location[2] = { "name":"ตึกคุณหญิงหรั่ง", "tag":"ตึก, หรั่ง", "x":1366, "y":92}
location[3] = { "name":"สมาคมนักเรียนเก่าโรงเรียนเตรียมอุดมศึกษา", "tag":"สนตอ", "x":1412, "y":92}
location[4] = { "name":"สวนพฤกษศาสตร์", "tag":"เรือนเกษตร, เกษตร, สวน", "x":709, "y":139}
location[5] = { "name":"ตึก 72 พรรษา", "tag":"ตึก, 72", "x":763, "y":139}
location[6] = { "name":"สามแยก72", "tag":"", "x":798, "y":139}
location[7] = { "name":"ห้องน้ำตึก 72 ปี", "tag":"ห้องน้ำ, 72", "x":947, "y":139}
location[8] = { "name":"ตึก 8", "tag":"ตึก, 8", "x":1061, "y":139}
location[9] = { "name":"ห้องน้ำตึก 8", "tag":"ตึก, 8", "x":1141, "y":139}
location[10] = { "name":"สามแยกหญิงหรั่ง", "tag":"", "x":1191, "y":139}
location[11] = { "name":"ตึก 60 ปี", "tag":"ตึก, 60", "x":709, "y":208}
location[12] = { "name":"สามแยกหญิงหรั่งล่าง", "tag":"", "x":1191, "y":208}
location[13] = { "name":"ห้องน้ำตึกคุณหญิงหรั่ง", "tag":"ห้องน้ำ, หรั่ง", "x":1373, "y":208}
location[14] = { "name":"ทางเลี้ยวห้องน้ำหญิงหรั่ง", "tag":"", "x":1373, "y":235}
location[15] = { "name":"ทางเลี้ยงหญิงหรั่งไปประตูฟ้า", "tag":"", "x":1412, "y":235}
location[16] = { "name":"ประตูตึก 50 ปี", "tag":"ประตู, ประตูฟ้า", "x":1412, "y":283}
location[17] = { "name":"โรงอาหารโดมทอง", "tag":"โรงอาหาร, โดมทอง", "x":1191, "y":325}
location[18] = { "name":"โรงอาหารตึก 50 ปี", "tag":"โรงอาหาร, 50", "x":1295, "y":325}
location[19] = { "name":"ตึก 50 ปี", "tag":"ตึก, 50", "x":1359, "y":325}
location[20] = { "name":"ห้องน้ำตึก 55 ปี", "tag":"ห้องน้ำ, 55", "x":1412, "y":325}
location[21] = { "name":"ทางเลี้ยงห้องน้ำ60", "tag":"", "x":678, "y":356}
location[22] = { "name":"สามแยกลานบานเย็น", "tag":"", "x":709, "y":356}
location[23] = { "name":"สนามฟุตบอล", "tag":"สนาม, สนามบอล", "x":798, "y":356}
location[24] = { "name":"ห้องน้ำตึก 60 ปี", "tag":"ห้องน้ำ, 60", "x":678, "y":405}
location[25] = { "name":"ตึก 55 ปี", "tag":"ตึก, 55", "x":1295, "y":405}
location[26] = { "name":"ทางเลี้ยวโดมทอง", "tag":"", "x":1191, "y":441}
location[27] = { "name":"สามแยกโดมทอง", "tag":"", "x":1213, "y":441}
location[28] = { "name":"ทางเลี้ยว55", "tag":"", "x":1297, "y":441}
location[29] = { "name":"ทางเลี้ยวโรงยิม", "tag":"", "x":650, "y":454}
location[30] = { "name":"ตึก 9", "tag":"ตึก, 9", "x":729, "y":454}
location[31] = { "name":"โรงยิม", "tag":"ยิม", "x":650, "y":540}
location[32] = { "name":"ทางเลี้ยว81", "tag":"", "x":990, "y":540}
location[33] = { "name":"ทางเลี้ยวขวาโล่ง", "tag":"", "x":1213, "y":540}
location[34] = { "name":"ทางเลี้ยวโรงใหญ่", "tag":"", "x":638, "y":621}
location[35] = { "name":"สามแยกลาน70", "tag":"", "x":737, "y":621}
location[36] = { "name":"สามแยกห้องน้ำ81", "tag":"", "x":798, "y":621}
location[37] = { "name":"ทางเลี้ยวห้องน้ำ81", "tag":"", "x":798, "y":641}
location[38] = { "name":"ตึก 81 ปี", "tag":"ตึก, 81", "x":848, "y":641}
location[39] = { "name":"สามแยกแปดเอ็ด", "tag":"", "x":990, "y":641}
location[40] = { "name":"โรงใหญ่", "tag":"โรงอาหาร", "x":638, "y":706}
location[41] = { "name":"ห้องน้ำตึกศิลปะ", "tag":"ห้องน้ำ, ศิลปะ", "x":199, "y":739}
location[42] = { "name":"ตึกศิลปะ", "tag":"ตึก, ศิลปะ", "x":334, "y":739}
location[43] = { "name":"ทางเลี้ยวตึกศิลปะ", "tag":"", "x":442, "y":739}
location[44] = { "name":"สามแยกคูบัว", "tag":"", "x":442, "y":782}
location[45] = { "name":"หลังลานเทเล", "tag":"", "x":521, "y":782}
location[46] = { "name":"สามแยกเทเล", "tag":"", "x":592, "y":782}
location[47] = { "name":"ศาลาดนตรีไทย", "tag":"ศาลา, ดนตรี", "x":638, "y":782}
location[48] = { "name":"ทางเลี้ยวซ้ายหอสมุด", "tag":"", "x":848, "y":782}
location[49] = { "name":"หอสมุด", "tag":"ห้องสมุด, หอ", "x":904, "y":782}
location[50] = { "name":"ทางเลี้ยวขวาหอสมุด", "tag":"", "x":990, "y":782}
location[51] = { "name":"สามแยกสวนหิน", "tag":"", "x":592, "y":861}
location[52] = { "name":"สนามวอลเลย์บอล", "tag":"สนาม, วอล, วอลเลย์", "x":635, "y":861}
location[53] = { "name":"สนามบาส", "tag":"สนาม, บาส", "x":904, "y":861}
location[54] = { "name":"ห้องนันทนาการ", "tag":"ห้อง, นันทนาการ", "x":999, "y":861}
location[55] = { "name":"สามแยกตึกหนึ่งบน", "tag":"", "x":199, "y":879}
location[56] = { "name":"ลานเทเล", "tag":"ลาน, เทเลทับบี้", "x":442, "y":879}
location[57] = { "name":"ประชาสัมพันธ์", "tag":"ประชา, ประชาสัมพันธ์", "x":199, "y":929}
location[58] = { "name":"สวนหินปิ่นหทัย", "tag":"สวนหิน, สวน, ปิ่นหทัย", "x":592, "y":929}
location[59] = { "name":"ทางเลี้ยว2.5", "tag":"", "x":884, "y":929}
location[60] = { "name":"ทางเลี้ยวหนามบาส", "tag":"", "x":898, "y":898}
location[61] = { "name":"ประตูพญาไท", "tag":"ประตู, พญาไท", "x":145, "y":1023} 
location[62] = { "name":"สามแยกพญาไท", "tag":"", "x":199, "y":1023}
location[63] = { "name":"ตึก 1", "tag":"ตึก, 1", "x":290, "y":1023}
location[64] = { "name":"ห้องน้ำตึก 1", "tag":"ห้องน้ำ, 1", "x":398, "y":1023} 
location[65] = { "name":"สามแยกพยบ1", "tag":"", "x":442, "y":1023}
location[66] = { "name":"สามแยก2ซ้าย", "tag":"", "x":592, "y":1023}
location[67] = { "name":"ตึก 2", "tag":"ตึก, 2", "x":737, "y":1023}
location[68] = { "name":"สามแยก2ขวา", "tag":"", "x":884, "y":1023}
location[69] = { "name":"ห้องน้ำสนามเทนนิส", "tag":"ห้องน้ำ, เทนนิส, 2.5, ห้องน้ำ 2.5", "x":952, "y":1023}
location[70] = { "name":"สามแยก3", "tag":"", "x":999, "y":1023}
location[71] = { "name":"ตึก 3", "tag":"ตึก, 3", "x":1113, "y":1023}
location[72] = { "name":"ประตูปทุมวัน", "tag":"ปทุมวัน, ประตู, มศว", "x":1274, "y":1023}
location[73] = { "name":"สามแยกตึก9", "tag":"", "x":678, "y":454}
location[74] = { "name":"ลานบานเย็น", "tag":"ลาน, บานเย็น", "x":709, "y":208}
location[75] = { "name":"ลาน 70 ปี", "tag":"ลาน, 70", "x":690, "y":621}
location[76] = { "name":"ห้องน้ำตึก 81 ปี", "tag":"ห้องน้ำ, 81", "x":848, "y":641}
location[77] = { "name":"ลาน ATM", "tag":"ลาน", "x":638, "y":706}
location[78] = { "name":"ตึก 80 ปี", "tag":"ตึก, 80", "x":638, "y":706}
location[79] = { "name":"โรงอาหารตึก 80 ปี", "tag":"โรงอาหาร, 80", "x":638, "y":706}
location[80] = { "name":"ห้องน้ำตึก 80 ปี", "tag":"ห้องน้ำ, 80", "x":638, "y":706}
location[81] = { "name":"สนามเทนนิส", "tag":"สนาม, เทนนิส", "x":904, "y":861}
location[82] = { "name":"รูปปั้นร.5", "tag":"ร.5, รูปปั้น", "x":145, "y":1023}
location[83] = { "name":"ห้องพยาบาลตึก 1", "tag":"ห้องพยาบาล, 1, ห้อง, พยาบาล", "x":398, "y":1023}


</script>
<body>

  <div id="mySidebar" class="sidebar">  
    <div class="d-flex flex-column flex-shrink-0 p-3 text-white" style="width: 280px;background-color: #ff6699;">
        <span class="fs-4">TU Magic Door</span>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>        
      <hr>
      <form>
        <div class="form-group">
          <label for="searchInput">ค้นหา</label>
          <input type="input" class="form-control" id="searchInput" placeholder="พิมพ์คำค้นหา">
        </div>
        <div class="form-group">
          <label for="startLocation">จุดเริ่มต้น</label>
          <select class="form-select" id="startLocation">
          </select>
        </div>
        <div class="form-group">
          <label for="endLocation">ปลายทาง</label>
          <select class="form-select" id="endLocation">
          </select>
        </div>
        <div class="form-group">
          <label for="pathtodest">แสดงเส้นทาง</label>
          <textarea class="form-control" id="pathtodest" rows="10" readonly="True"></textarea>
        </div>
      </form>

      <hr>

    </div>
  </div>
  
  <div id="main">
    <button class="openbtn" onclick="openNav()">☰ Open Menu</button>    
    <div class="d-flex flex-column flex-grow-1 p-3 bg-light">
      <div class="col-md-10 px-0">
        <canvas id="mymap" width=1522 height=1076 class="img-fluid">
      </div>
    </div>
  </div>


  <div  id="imageGallery" data-toggle="modal" data-target="#galleryModal">
    <div class="lightbox-target" id="gallery">
      <div class="gallery" id="galleryList">

      </div>
      <a class="lightbox-close" href="javascript:void(0)"  onclick="closeImg()"></a>
    </div>
  </div>

  <script src="jquery.min.js" > </script>

 

  <script type="text/javascript">
  //<![CDATA[

  function openNav() {
    document.getElementById("mySidebar").style.width = "280px";
    document.getElementById("main").style.marginLeft = "280px";
  }

  function closeNav() {
    document.getElementById("mySidebar").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
    closeImg();
  }

  function closeImg() {
    document.getElementById("searchInput").value = "";
    document.getElementById("imageGallery").style.display = "none";
  }

  // $("#startLocation").selectpicker();
    jQuery(document).ready(function($) {

        $('#searchInput').keyup(function(){
            var value = $(this).val().trim();
            var showimg = false;
            var firstItem = true;
            var itemcnt = 0;
            if (value.length >= 3) {
              for(i=0; i< Object.keys(tuimage).length; i++) {
                  if(tuimage[i] !== undefined && tuimage[i].tag.length > 0) {
                    let result = tuimage[i].tag.indexOf(value);
                    if (result > -1) {
                      itemcnt++;
                      if (firstItem) {
                        showimg = true;
                        firstItem = false;
                        $("#galleryList").empty();
                      }
                      $("#galleryList").append('<input type="radio"' + (itemcnt == 1 ?  'checked="checked"' : '') + ' name="select" id="img-tab-'+itemcnt.toString()+'">');
                      $("#galleryList").append('<label for="img-tab-'+itemcnt.toString() + '" style="background-image: url(images/'+tuimage[i].name+');"></label>');
                      $("#galleryList").append('<img src="images/'+tuimage[i].name+'" border="0">');

                    }
                  }
              }

            }
            if (showimg) {
              document.getElementById("imageGallery").style.display = "block";

            } else {
              document.getElementById("imageGallery").style.display = "none";
            }


        });


        function drawPath() {

          var data = '';
          let s = $("#startLocation").val();
          let d = $("#endLocation").val();


          ctx.clearRect(0, 0, mymap.width, mymap.height);
          // img.src = './tumagicdoor-map.png';
          ctx.drawImage(img, 0, 0, mymap.width, mymap.height);

          for(var i = 0; i < mypath.length; i++) {
            
            if ( s == mypath[i].start && d == mypath[i].end) {
                  data = mypath[i].path;
                  break;
                }
            } 

          $("#pathtodest").empty();

          const mylocation = data.split(",");

          if (mylocation != '') {
            k = parseInt(mylocation[0]);
            ctx.beginPath();
            ctx.moveTo(location[k].x, location[k].y);

            for(i=0; i < mylocation.length; i++) {
              k = parseInt(mylocation[i]);
              $("#pathtodest").append(location[k].name + "\n");
              if (i > 0) {
                ctx.lineTo(location[k].x, location[k].y);
              }

            }

            ctx.lineWidth = 3;
            ctx.strokeStyle = "red";

            ctx.stroke();
          } else {
            $("#pathtodest").append("Direction not assigned.\n");
          }
          closeImg();

        }

        function locationLoad() {

            for(i=0; i< Object.keys(location).length; i++) {
                if(location[i] !== undefined && location[i].tag.length > 0) {
                    $("#startLocation").append('<option value="'+i+'" selected="">'+location[i].name+'</option>');
                    $("#endLocation").append('<option value="'+i+'" selected="">'+location[i].name+'</option>');
                }

            }

            // sort name
            var my_options = $("#startLocation option");
            var selected = $("#startLocation").val();
            var end_options = $("#endLocation option");
            var endselected = $("#endLocation").val();

            my_options.sort(function(a,b) {
                if (a.text > b.text) return 1;
                if (a.text < b.text) return -1;
                return 0
            });

            end_options.sort(function(a,b) {
            if(a.text > b.text) return 1;
            if(a.text < b.text) return -1;
            return 0
            });

            $("#startLocation").empty().append( my_options );
            $("#startLocation").val(selected);    
            $("#endLocation").empty().append( end_options );
            $("#endLocation").val(endselected);    
            $("#startLocation").prop('selectedIndex', 0);
            var length = $('#endLocation').children('option').length;
            $("#endLocation").prop('selectedIndex', length-1);

        }  

        //sidebar
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        tooltipTriggerList.forEach(function (tooltipTriggerEl) {
          new bootstrap.Tooltip(tooltipTriggerEl)
        })


        var mypath;
        $.getJSON("./data.json", function(data) { mypath = data; });

        var ctx = document.getElementById('mymap');
        var img = new Image();
        if(ctx.getContext) {
            ctx = ctx.getContext('2d');
            img.onload = function() {
                ctx.drawImage(img, 0, 0, mymap.width, mymap.height);
            }
            img.src = './tumagicdoor-map.png';
        }

        $("#startLocation").change(function() {
            drawPath();
        });


        $("#endLocation").change(function() {
            drawPath();
        });

        locationLoad();



    });

  //]]>
  </script>

</body>
</html>
